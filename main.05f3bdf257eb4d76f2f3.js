/*! For license information please see main.05f3bdf257eb4d76f2f3.js.LICENSE.txt */
(()=>{"use strict";var e,t,r,n={1985:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){a=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function m(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{m({},"")}catch(e){m=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),c=new T(n||[]);return i(o,"_invoke",{value:k(e,r,c)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",d="suspendedYield",v="executing",y="completed",g={};function b(){}function E(){}function w(){}var x={};m(x,l,(function(){return this}));var N=Object.getPrototypeOf,O=N&&N(N(I([])));O&&O!==r&&o.call(O,l)&&(x=O);var j=w.prototype=b.prototype=Object.create(x);function L(e){["next","throw","return"].forEach((function(t){m(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,i,c,l){var s=p(e[a],e,i);if("throw"!==s.type){var u=s.arg,m=u.value;return m&&"object"==n(m)&&o.call(m,"__await")?t.resolve(m.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(m).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var a=h;return function(o,i){if(a===v)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var s=p(t,r,n);if("normal"===s.type){if(a=n.done?y:d,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(o.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,i(j,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:E,configurable:!0}),E.displayName=m(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,m(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},L(S.prototype),m(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new S(f(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(j),m(j,u,"Generator"),m(j,l,(function(){return this})),m(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function o(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function c(e){o(i,n,a,c,l,"next",e)}function l(e){o(i,n,a,c,l,"throw",e)}c(void 0)}))}}r.r(t),r.d(t,{servicesApi:()=>f});var c,l,s,u=[{id:"1",name:"Терапия",description:"Общие медицинские услуги для диагностики и лечения заболеваний",icon:"stethoscope"},{id:"2",name:"Стоматология",description:"Услуги по лечению зубов и полости рта",icon:"tooth"},{id:"3",name:"Офтальмология",description:"Диагностика и лечение заболеваний глаз",icon:"eye"},{id:"4",name:"Неврология",description:"Диагностика и лечение заболеваний нервной системы",icon:"brain"},{id:"5",name:"Лабораторные исследования",description:"Анализы крови, мочи и другие диагностические тесты",icon:"flask"}],m=[{id:"1",name:"Первичный прием терапевта",description:"Консультация врача-терапевта, сбор анамнеза, осмотр, назначение необходимых исследований и лечения.",price:2500,duration:30,categoryId:"1",category:"Терапия",image:"https://klinik.by/wp-content/uploads/2020/11/Konsultaciya-vracha-kardiologa.jpg"},{id:"2",name:"Повторный прием терапевта",description:"Повторная консультация терапевта для оценки эффективности лечения и коррекции назначений.",price:2e3,duration:20,categoryId:"1",category:"Терапия",image:"https://mogilev.biz/netcat_files/2582/3512/papilloma_na_veke_prichiny_vozniknoveniya_diagnostika_i_lechenie.jpg"},{id:"3",name:"Чистка зубов ультразвуком",description:"Профессиональная чистка зубов ультразвуком для удаления зубного камня и налета.",price:5e3,duration:60,categoryId:"2",category:"Стоматология",image:"https://yandex-images.clstorage.net/f9uH8q357/da2089Dta/EW3l1hqVzvGO25Df3Kl_SgO7lagVb9ZrL8GiL8xC-P0NpBUDKqgWuDtp_h2m_AKCfp7CwUkCexX1obYDRXgKTlU1of8uyKvI09OZxvTxTgMfv-GIbU_-PhMFSvp01hAQ8WSZmq-VU9VOOPpo0-D7Pj9_x9QUh4L4cCH6zwBws8ZZCSyvC3WKNbKzGItdSVNykuepgJ1PnlYzSSp2ZPrwuFkAnap3SX_19oyzNMO80-cPGxsMUHM-sDQJ6tvI8BPeYQUAE3dhhqUm4wjXpYnjvgKnKTT9U46ex7UORrB2CKgdKEGiB7ETUQ78r3RTsAv7j5_bECC3ImT8UXIHJISDxoWxHHsfNWr1AjO0K4mJd0Lma9nkSbvaEn_FOkosGgwU2SDVjtORY_k2hEf8A4jTj5vjqzDo6_ZQCIkuk4j8fwZtfUzXB_0WkUJLAD-h2S_SAkfdzJnzKmof1Yq65FZUnOFY7W7HQY-JGhRPfA8wM0-fe09YnDuiOGQNmq8MoLtK8RV427txghE6z1DX2UErZooPdYwhc9KCJx0OdnwCXCiFDMmimylTaeIkr8iTKKsPa3sv4FgHvuyk7W7j3EDTamk5lA_vDX61GqfEx0VZh37yo7lsubeOStfVYjawNlRIEZBlJrvlT1XCANcIC5gfI3uDk6w0YwbIYC2GW2yMw76ReZwPR3kWHbbLIDtBvQMSEtOl7GGbko7fcZqaMNKw6AEc3Xa3lV-NgvgPxLMQz48n87uEpOtSSOB1ZpeU4H_aKRnsCzs9BklCWxx_ybXX6hY3pUSR3-aSG92yVhAapHBdfOXu_0H3oRakV-gT1Dv7e09TtGTfAtQgod4_AHCvbp39GPsPdR6B3teYd61dX-4SE0nsZZsCWj9hmqr48tC0ZSgJWo_Jz4kO5Jd8_wBTT1dT64Rsq2o8BPkuz-QYp6ZVKYAfE42q9UZPPAOpFdNC6i9tDBnTquqDqTL23Dp4"},{id:"4",name:"Лечение кариеса",description:"Лечение кариеса с установкой современной светоотверждаемой пломбы.",price:4500,duration:45,categoryId:"2",category:"Стоматология",image:"https://avatars.mds.yandex.net/get-tycoon/5395686/2a0000017f413784058ad39aa1e0f171576a/priority-product-x-large"},{id:"5",name:"Проверка зрения",description:"Комплексная проверка зрения с использованием современного оборудования.",price:2e3,duration:30,categoryId:"3",category:"Офтальмология",image:"https://i.pinimg.com/736x/2c/eb/b4/2cebb4172b5f4801ec4037d48736b911.jpg"},{id:"6",name:"Подбор очков или контактных линз",description:"Индивидуальный подбор очков или контактных линз по результатам диагностики.",price:1500,duration:45,categoryId:"3",category:"Офтальмология",image:"https://sneg.top/uploads/posts/2023-04/1681537441_sneg-top-p-okulist-kartinka-dlya-detei-instagram-56.jpg"},{id:"7",name:"Консультация невролога",description:"Первичная консультация врача-невролога с осмотром и назначением лечения.",price:3500,duration:40,categoryId:"4",category:"Неврология",image:"https://avatars.mds.yandex.net/get-altay/13289089/2a000001936e0b5a5fb9908297707c777133/XXXL"},{id:"8",name:"Общий анализ крови",description:"Общий клинический анализ крови с лейкоцитарной формулой.",price:800,duration:10,categoryId:"5",category:"Лабораторные исследования",image:"https://p2.zoon.ru/f/c/5260f85e40c0882b768b8bbd_636c57b7a26383.80808322.jpg"},{id:"9",name:"Биохимический анализ крови",description:"Расширенный биохимический анализ крови (до 10 показателей).",price:2500,duration:10,categoryId:"5",category:"Лабораторные исследования",image:"https://s0.rbk.ru/v6_top_pics/media/img/7/44/756385298912447.jpg"},{id:"10",name:"ЭКГ с расшифровкой",description:"Электрокардиография с расшифровкой и заключением врача-кардиолога.",price:1800,duration:20,categoryId:"1",category:"Терапия",image:"https://s-medic.ru/wp-content/uploads/2023/05/ekg.jpg"}],f={getServices:(s=i(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return r=[].concat(m),t.category&&(r=r.filter((function(e){return e.categoryId===t.category}))),t.searchTerm&&(n=t.searchTerm.toLowerCase(),r=r.filter((function(e){return e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)}))),r=r.filter((function(e){return e.price>=t.priceRange.min&&e.price<=t.priceRange.max})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),getCategories:(l=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return e.abrupt("return",u);case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),getServiceById:(c=i(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:if(r=m.find((function(e){return e.id===t}))){e.next=5;break}throw new Error("Услуга не найдена");case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})}},3342:(e,t,r)=>{var n=r(6540),a=r(5338),o=r(4976),i=r(1468),c=r(7767),l=r(1540),s=r(5107),u=r(8686),m=r(2307),f=r(5042),p=r(8697),h=r(9230),d=r(6782),v=i.wA,y=i.d4,g=r(3816);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}var E=["password"],w=["password"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(){j=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:k(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function E(){}var w={};s(w,i,(function(){return this}));var x=Object.getPrototypeOf,N=x&&x(x(I([])));N&&N!==r&&n.call(N,i)&&(w=N);var O=E.prototype=y.prototype=Object.create(w);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==b(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function _(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(b(t)+" is not iterable")}return g.prototype=E,a(O,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:g,configurable:!0}),g.displayName=s(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},L(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new S(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function L(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){S(o,n,a,i,c,"next",e)}function c(e){S(o,n,a,i,c,"throw",e)}i(void 0)}))}}var _,P,A,T,I,C="auth_token",G="user_data",F="mock_users",D=500,z={id:"1",email:"test@example.com",password:"password123",firstName:"Test",lastName:"User",phone:"+7 (999) 123-45-67"},M=function(e){localStorage.setItem(F,JSON.stringify(e))},Y=function(){var e=localStorage.getItem(F);if(!e){var t=[z];return localStorage.setItem(F,JSON.stringify(t)),t}return JSON.parse(e)}(),q={login:(I=k(j().mark((function e(t){var r,n,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,D)}));case 2:if(r=Y.find((function(e){return e.email===t.email&&e.password===t.password}))){e.next=5;break}throw new Error("Неверный email или пароль");case 5:return r.password,n=L(r,E),a="mock-jwt-token-".concat(Math.random()),localStorage.setItem(C,a),localStorage.setItem(G,JSON.stringify(n)),e.abrupt("return",{user:n,token:a});case 10:case"end":return e.stop()}}),e)}))),function(e){return I.apply(this,arguments)}),register:(T=k(j().mark((function e(t){var r,n,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,D)}));case 2:if(!Y.some((function(e){return e.email===t.email}))){e.next=4;break}throw new Error("Пользователь с таким email уже существует");case 4:return r=N({id:String(Y.length+1)},t),Y.push(r),M(Y),r.password,n=L(r,w),a="mock-jwt-token-".concat(Math.random()),localStorage.setItem(C,a),localStorage.setItem(G,JSON.stringify(n)),e.abrupt("return",{user:n,token:a});case 12:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)}),checkAuth:(A=k(j().mark((function e(){var t,r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,D)}));case 2:if(t=localStorage.getItem(C),r=localStorage.getItem(G),t&&r){e.next=6;break}throw new Error("Не авторизован");case 6:return e.abrupt("return",{user:JSON.parse(r),token:t});case 7:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)}),logout:(P=k(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,D)}));case 2:localStorage.removeItem(C),localStorage.removeItem(G);case 4:case"end":return e.stop()}}),e)}))),function(){return P.apply(this,arguments)}),updateProfile:(_=k(j().mark((function e(t){var r,n,a,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,D)}));case 2:if(r=localStorage.getItem(G)){e.next=5;break}throw new Error("Пользователь не найден");case 5:return n=JSON.parse(r),a=N(N({},n),t),-1!==(o=Y.findIndex((function(e){return e.id===n.id})))&&(Y[o]=N(N({},Y[o]),t),M(Y)),localStorage.setItem(G,JSON.stringify(a)),e.abrupt("return",{user:a});case 11:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)}),resetMockUsers:function(){localStorage.removeItem(F),localStorage.removeItem(C),localStorage.removeItem(G),Y=[]}};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==U(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(U(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Z(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Z(o,n,a,i,c,"next",e)}function c(e){Z(o,n,a,i,c,"throw",e)}i(void 0)}))}}var V=(0,g.zD)("auth/login",function(){var e=W(R().mark((function e(t,r){var n,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,q.login(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка входа. Проверьте логин и пароль."));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),J=(0,g.zD)("auth/register",function(){var e=W(R().mark((function e(t,r){var n,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,q.register(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при регистрации. Попробуйте еще раз."));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),K=(0,g.zD)("auth/checkAuth",function(){var e=W(R().mark((function e(t,r){var n,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,q.checkAuth();case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Сессия истекла или пользователь не авторизован"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),B=(0,g.zD)("auth/logout",function(){var e=W(R().mark((function e(t,r){var n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,q.logout();case 4:return e.abrupt("return",null);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при выходе из системы"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),H=(0,g.zD)("auth/updateProfile",function(){var e=W(R().mark((function e(t,r){var n,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,q.updateProfile(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при обновлении профиля"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),X=(0,g.Z0)({name:"auth",initialState:{user:null,isAuthenticated:!1,loading:!1,error:null},reducers:{clearError:function(e){e.error=null}},extraReducers:function(e){e.addCase(V.pending,(function(e){e.loading=!0,e.error=null})).addCase(V.fulfilled,(function(e,t){e.loading=!1,e.user=t.payload.user,e.isAuthenticated=!0})).addCase(V.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(J.pending,(function(e){e.loading=!0,e.error=null})).addCase(J.fulfilled,(function(e,t){e.loading=!1,e.user=t.payload.user,e.isAuthenticated=!0})).addCase(J.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(K.pending,(function(e){e.loading=!0})).addCase(K.fulfilled,(function(e,t){e.loading=!1,e.user=t.payload.user,e.isAuthenticated=!0})).addCase(K.rejected,(function(e){e.loading=!1,e.user=null,e.isAuthenticated=!1})).addCase(B.fulfilled,(function(e){e.user=null,e.isAuthenticated=!1})).addCase(H.pending,(function(e){e.loading=!0,e.error=null})).addCase(H.fulfilled,(function(e,t){e.loading=!1,e.user=t.payload.user})).addCase(H.rejected,(function(e,t){e.loading=!1,e.error=t.payload}))}}),Q=(X.actions.clearError,function(e){return e.auth.user}),$=function(e){return e.auth.isAuthenticated},ee=function(e){return e.auth.loading},te=function(e){return e.auth.error};const re=X.reducer;function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie=0,ce=(0,g.Z0)({name:"ui",initialState:{mobileMenuOpen:!1,notifications:[],isLoading:!1},reducers:{toggleMobileMenu:function(e){e.mobileMenuOpen=!e.mobileMenuOpen},closeMobileMenu:function(e){e.mobileMenuOpen=!1},addNotification:function(e,t){var r=String(ie++);e.notifications.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:r},t.payload))},removeNotification:function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t.payload}))},setLoading:function(e,t){e.isLoading=t.payload}}}),le=ce.actions,se=le.toggleMobileMenu,ue=le.closeMobileMenu,me=le.addNotification,fe=le.removeNotification,pe=(le.setLoading,function(e){return e.ui.mobileMenuOpen}),he=function(e){return e.ui.notifications};const de=ce.reducer;const ve=function(){var e=v(),t=(0,c.zy)(),r=y($),a=y(Q),i=y(pe);(0,n.useEffect)((function(){e(ue())}),[t.pathname,e]);var g=function(){e(B())};return n.createElement("header",{className:"bg-white shadow-sm"},n.createElement("div",{className:"container py-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement(o.N_,{to:"/",className:"flex items-center space-x-2"},n.createElement(l.A,{className:"h-8 w-8 text-primary-600"}),n.createElement("span",{className:"text-xl font-bold text-primary-700"},"МедЦентр")),n.createElement("nav",{className:"hidden md:flex items-center space-x-8"},n.createElement(o.N_,{to:"/",className:"text-neutral-700 hover:text-primary-600 font-medium"},"Главная"),n.createElement(o.N_,{to:"/services",className:"text-neutral-700 hover:text-primary-600 font-medium"},"Услуги"),r?n.createElement("div",{className:"relative group"},n.createElement("button",{className:"flex items-center space-x-1 text-neutral-700 hover:text-primary-600 font-medium"},n.createElement("span",null,(null==a?void 0:a.firstName)||"Пользователь"),n.createElement(s.A,{className:"h-4 w-4"})),n.createElement("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10"},n.createElement("div",{className:"py-1"},n.createElement(o.N_,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100"},n.createElement(u.A,{className:"mr-2 h-4 w-4"}),"Личный кабинет"),n.createElement(o.N_,{to:"/appointments",className:"flex items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100"},n.createElement(m.A,{className:"mr-2 h-4 w-4"}),"Мои записи"),n.createElement("button",{onClick:g,className:"flex w-full items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100"},n.createElement(f.A,{className:"mr-2 h-4 w-4"}),"Выйти")))):n.createElement(o.N_,{to:"/login",className:"text-white bg-primary-600 hover:bg-primary-700 rounded-md px-4 py-2 font-medium transition-colors"},"Войти")),n.createElement("button",{className:"md:hidden text-neutral-700",onClick:function(){return e(se())},"aria-label":i?"Закрыть меню":"Открыть меню"},i?n.createElement(p.A,{className:"h-6 w-6"}):n.createElement(h.A,{className:"h-6 w-6"}))),i&&n.createElement("div",{className:"md:hidden mt-4 py-4 border-t border-neutral-200"},n.createElement("nav",{className:"flex flex-col space-y-4"},n.createElement(o.N_,{to:"/",className:"flex items-center text-neutral-700 hover:text-primary-600"},n.createElement(d.A,{className:"mr-2 h-5 w-5"}),"Главная"),n.createElement(o.N_,{to:"/services",className:"flex items-center text-neutral-700 hover:text-primary-600"},n.createElement(l.A,{className:"mr-2 h-5 w-5"}),"Услуги"),r?n.createElement(n.Fragment,null,n.createElement(o.N_,{to:"/profile",className:"flex items-center text-neutral-700 hover:text-primary-600"},n.createElement(u.A,{className:"mr-2 h-5 w-5"}),"Личный кабинет"),n.createElement(o.N_,{to:"/appointments",className:"flex items-center text-neutral-700 hover:text-primary-600"},n.createElement(m.A,{className:"mr-2 h-5 w-5"}),"Мои записи"),n.createElement("button",{onClick:g,className:"flex items-center text-neutral-700 hover:text-primary-600"},n.createElement(f.A,{className:"mr-2 h-5 w-5"}),"Выйти")):n.createElement(o.N_,{to:"/login",className:"flex items-center justify-center bg-primary-600 hover:bg-primary-700 text-white rounded-md px-4 py-2 transition-colors"},"Войти")))))};var ye=r(2313),ge=r(3037),be=r(9070),Ee=r(6069),we=r(9869),xe=r(3954),Ne=r(7235);const Oe=function(){return n.createElement("footer",{className:"bg-neutral-800 text-neutral-200 pt-12 pb-6"},n.createElement("div",{className:"container"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},n.createElement("div",null,n.createElement("h3",{className:"text-xl font-bold text-white mb-4"},"МедЦентр"),n.createElement("p",{className:"text-neutral-400 text-sm mb-4"},"Современная медицинская клиника, предоставляющая полный спектр медицинских услуг для всей семьи."),n.createElement("div",{className:"flex space-x-3 text-neutral-400"},n.createElement("a",{href:"#",className:"hover:text-white transition-colors","aria-label":"Facebook"},n.createElement(ye.A,{className:"h-5 w-5"})),n.createElement("a",{href:"#",className:"hover:text-white transition-colors","aria-label":"Instagram"},n.createElement(ge.A,{className:"h-5 w-5"})),n.createElement("a",{href:"#",className:"hover:text-white transition-colors","aria-label":"Twitter"},n.createElement(be.A,{className:"h-5 w-5"})))),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-bold text-white mb-4"},"Контакты"),n.createElement("ul",{className:"space-y-3"},n.createElement("li",{className:"flex items-start"},n.createElement(Ee.A,{className:"h-5 w-5 mr-2 mt-0.5 text-primary-500"}),n.createElement("span",{className:"text-sm"},"г. Москва, ул. Медицинская, д. 123")),n.createElement("li",{className:"flex items-center"},n.createElement(we.A,{className:"h-5 w-5 mr-2 text-primary-500"}),n.createElement("a",{href:"tel:+74951234567",className:"text-sm hover:text-white transition-colors"},"+7 (495) 123-45-67")),n.createElement("li",{className:"flex items-center"},n.createElement(xe.A,{className:"h-5 w-5 mr-2 text-primary-500"}),n.createElement("a",{href:"mailto:info@medcenter.ru",className:"text-sm hover:text-white transition-colors"},"info@medcenter.ru")),n.createElement("li",{className:"flex items-start"},n.createElement(Ne.A,{className:"h-5 w-5 mr-2 mt-0.5 text-primary-500"}),n.createElement("div",{className:"text-sm"},n.createElement("p",null,"Пн-Пт: 8:00 - 20:00"),n.createElement("p",null,"Сб: 9:00 - 18:00"),n.createElement("p",null,"Вс: Выходной"))))),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-bold text-white mb-4"},"Услуги"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",null,n.createElement(o.N_,{to:"/services?category=1",className:"text-sm hover:text-white transition-colors"},"Терапия")),n.createElement("li",null,n.createElement(o.N_,{to:"/services?category=2",className:"text-sm hover:text-white transition-colors"},"Стоматология")),n.createElement("li",null,n.createElement(o.N_,{to:"/services?category=3",className:"text-sm hover:text-white transition-colors"},"Офтальмология")),n.createElement("li",null,n.createElement(o.N_,{to:"/services?category=4",className:"text-sm hover:text-white transition-colors"},"Неврология")),n.createElement("li",null,n.createElement(o.N_,{to:"/services?category=5",className:"text-sm hover:text-white transition-colors"},"Лабораторные исследования")))),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-bold text-white mb-4"},"Информация"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",null,n.createElement(o.N_,{to:"/",className:"text-sm hover:text-white transition-colors"},"Главная")),n.createElement("li",null,n.createElement(o.N_,{to:"/services",className:"text-sm hover:text-white transition-colors"},"Услуги")),n.createElement("li",null,n.createElement(o.N_,{to:"/login",className:"text-sm hover:text-white transition-colors"},"Личный кабинет")),n.createElement("li",null,n.createElement("a",{href:"#",className:"text-sm hover:text-white transition-colors"},"Политика конфиденциальности"))))),n.createElement("div",{className:"border-t border-neutral-700 mt-8 pt-6 text-sm text-center text-neutral-500"},n.createElement("p",null,"© ",(new Date).getFullYear()," МедЦентр. Все права защищены."))))};var je=r(322),Le=r(6644),Se=r(7213),ke=r(9360);const _e=function(e){var t=e.type,r=e.message,a=e.onClose,o={success:n.createElement(je.A,{className:"h-5 w-5 text-success-500"}),error:n.createElement(Le.A,{className:"h-5 w-5 text-error-500"}),info:n.createElement(Se.A,{className:"h-5 w-5 text-primary-500"}),warning:n.createElement(ke.A,{className:"h-5 w-5 text-warning-500"})};return n.createElement("div",{className:"rounded-md border-l-4 p-4 ".concat({success:"bg-success-50 border-success-500 text-success-700",error:"bg-error-50 border-error-500 text-error-700",info:"bg-primary-50 border-primary-500 text-primary-700",warning:"bg-warning-50 border-warning-500 text-warning-700"}[t])},n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"flex items-start"},n.createElement("div",{className:"flex-shrink-0"},o[t]),n.createElement("div",{className:"ml-3"},n.createElement("p",{className:"text-sm font-medium"},r))),a&&n.createElement("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 rounded-md p-1.5 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:a,"aria-label":"Закрыть"},n.createElement(p.A,{className:"h-5 w-5"}))))};const Pe=function(){var e=v(),t=y(he);return(0,n.useEffect)((function(){if(t.length>0){var r=t[0].id,n=setTimeout((function(){e(fe(r))}),5e3);return function(){return clearTimeout(n)}}}),[t,e]),0===t.length?null:n.createElement("div",{className:"fixed bottom-4 right-4 z-50 space-y-2"},t.map((function(t){return n.createElement("div",{key:t.id,className:"max-w-sm w-full transition-all duration-300 ease-in-out animate-slide-in"},n.createElement(_e,{type:t.type,message:t.message,onClose:function(){return e(fe(t.id))}}))})))};const Ae=function(){return n.createElement("div",{className:"flex flex-col min-h-screen"},n.createElement(ve,null),n.createElement("main",{className:"flex-grow"},n.createElement(c.sv,null)),n.createElement(Oe,null),n.createElement(Pe,null))};var Te=r(4626),Ie=r(1697),Ce=["as","to","href","variant","size","loading","fullWidth","icon","children","className","disabled"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(null,arguments)}const Fe=function(e){var t=e.as,r=void 0===t?"button":t,a=e.to,i=e.href,c=e.variant,l=void 0===c?"primary":c,s=e.size,u=void 0===s?"md":s,m=e.loading,f=void 0!==m&&m,p=e.fullWidth,h=void 0!==p&&p,d=e.icon,v=e.children,y=e.className,g=void 0===y?"":y,b=e.disabled,E=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ce),w=h?"w-full":"",x="".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500",secondary:"bg-secondary-600 text-white hover:bg-secondary-700 focus-visible:ring-secondary-500",outline:"border border-neutral-300 bg-transparent hover:bg-neutral-100 focus-visible:ring-primary-500",ghost:"bg-transparent hover:bg-neutral-100 focus-visible:ring-primary-500",link:"text-primary-600 hover:text-primary-700 underline-offset-4 hover:underline focus-visible:ring-primary-500 p-0 h-auto"}[l]," ").concat({sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-5 py-2 text-base"}[u]," ").concat(w," ").concat(g);return r===o.N_&&a?n.createElement(o.N_,Ge({to:a,className:x},E),f&&n.createElement(Ie.A,{className:"mr-2 h-4 w-4 animate-spin"}),d&&!f&&n.createElement("span",{className:"mr-2"},d),v):"a"===r&&i?n.createElement("a",Ge({href:i,className:x},E),f&&n.createElement(Ie.A,{className:"mr-2 h-4 w-4 animate-spin"}),d&&!f&&n.createElement("span",{className:"mr-2"},d),v):n.createElement("button",Ge({type:"button",className:x,disabled:b||f},E),f&&n.createElement(Ie.A,{className:"mr-2 h-4 w-4 animate-spin"}),d&&!f&&n.createElement("span",{className:"mr-2"},d),v)};const De=function(){return n.createElement("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white"},n.createElement("div",{className:"container py-16 md:py-24"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},n.createElement("div",{className:"order-2 md:order-1"},n.createElement("h1",{className:"text-4xl md:text-5xl font-bold mb-4 leading-tight"},"Современная клиника для всей семьи"),n.createElement("p",{className:"text-lg md:text-xl text-primary-100 mb-8"},"Профессиональная забота о вашем здоровье. Доверьтесь нашим опытным специалистам."),n.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},n.createElement(Fe,{as:o.N_,to:"/services",size:"lg",variant:"outline",className:"bg-white text-primary-700 hover:bg-primary-50 border-white",icon:n.createElement(m.A,{className:"h-5 w-5"})},"Записаться на прием"),n.createElement(Fe,{as:"a",href:"tel:+74951234567",size:"lg",variant:"ghost",className:"text-white border border-primary-300 hover:bg-primary-700",icon:n.createElement(Te.A,{className:"h-5 w-5"})},"+7 (495) 123-45-67"))),n.createElement("div",{className:"order-1 md:order-2"},n.createElement("img",{src:"https://demosoledad.pencidesign.net/soledad-hospital-multipurpose/wp-content/uploads/sites/55/2019/12/8.jpg",alt:"Команда врачей",className:"rounded-lg shadow-xl w-full h-auto"})))))};var ze=r(6243),Me=r(3160),Ye=r(7073),qe=r(4131),Ue=r(1985);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(){Je=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Re(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Re(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ke(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ke(o,n,a,i,c,"next",e)}function c(e){Ke(o,n,a,i,c,"throw",e)}i(void 0)}))}}var He={services:[],categories:[],selectedService:null,filters:{category:null,searchTerm:"",priceRange:{min:0,max:5e4}},loading:!1,error:null},Xe=(0,g.zD)("services/fetchServices",function(){var e=Be(Je().mark((function e(t,r){var n,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Ue.servicesApi.getServices(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при загрузке услуг"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),Qe=(0,g.zD)("services/fetchCategories",function(){var e=Be(Je().mark((function e(t,r){var n,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Ue.servicesApi.getCategories();case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при загрузке категорий"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),$e=(0,g.zD)("services/fetchServiceById",function(){var e=Be(Je().mark((function e(t,r){var n,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Ue.servicesApi.getServiceById(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Услуга не найдена"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),et=(0,g.Z0)({name:"services",initialState:He,reducers:{setFilter:function(e,t){e.filters=We(We({},e.filters),t.payload)},resetFilters:function(e){e.filters=He.filters},clearSelectedService:function(e){e.selectedService=null}},extraReducers:function(e){e.addCase(Xe.pending,(function(e){e.loading=!0,e.error=null})).addCase(Xe.fulfilled,(function(e,t){e.loading=!1,e.services=t.payload})).addCase(Xe.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Qe.pending,(function(e){e.loading=!0,e.error=null})).addCase(Qe.fulfilled,(function(e,t){e.loading=!1,e.categories=t.payload})).addCase(Qe.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase($e.pending,(function(e){e.loading=!0,e.error=null})).addCase($e.fulfilled,(function(e,t){e.loading=!1,e.selectedService=t.payload})).addCase($e.rejected,(function(e,t){e.loading=!1,e.error=t.payload,e.selectedService=null}))}}),tt=et.actions,rt=tt.setFilter,nt=tt.resetFilters,at=(tt.clearSelectedService,function(e){return e.services.services}),ot=function(e){return e.services.categories},it=function(e){return e.services.selectedService},ct=function(e){return e.services.filters},lt=function(e){return e.services.loading},st=function(e){return e.services.error};const ut=et.reducer;const mt=function(e){var t=e.size,r=void 0===t?"md":t,a=e.className,o=void 0===a?"":a;return n.createElement("div",{className:"animate-spin rounded-full border-t-transparent border-primary-600 ".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[r]," ").concat(o),style:{borderWidth:"sm"===r?"2px":"3px"},role:"status","aria-label":"Загрузка"})};var ft={stethoscope:n.createElement(l.A,{className:"h-10 w-10 text-primary-600"}),tooth:n.createElement(ze.A,{className:"h-10 w-10 text-primary-600"}),eye:n.createElement(Me.A,{className:"h-10 w-10 text-primary-600"}),brain:n.createElement(Ye.A,{className:"h-10 w-10 text-primary-600"}),flask:n.createElement(qe.A,{className:"h-10 w-10 text-primary-600"})};const pt=function(){var e=v(),t=y(ot),r=y(lt);return(0,n.useEffect)((function(){e(Qe())}),[e]),r&&0===t.length?n.createElement("div",{className:"flex justify-center py-16"},n.createElement(mt,{size:"lg"})):n.createElement("section",{className:"py-16 bg-neutral-50"},n.createElement("div",{className:"container"},n.createElement("div",{className:"text-center mb-12"},n.createElement("h2",{className:"text-3xl font-bold mb-4"},"Наши услуги"),n.createElement("p",{className:"text-neutral-600 max-w-2xl mx-auto"},"Мы предлагаем широкий спектр медицинских услуг для всей семьи с использованием современного оборудования и методик лечения.")),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((function(e){return n.createElement(o.N_,{key:e.id,to:"/services?category=".concat(e.id),className:"card p-6 hover:shadow-md transition-shadow group"},n.createElement("div",{className:"mb-4"},e.icon&&ft[e.icon]),n.createElement("h3",{className:"text-xl font-bold mb-2 group-hover:text-primary-600 transition-colors"},e.name),n.createElement("p",{className:"text-neutral-600 text-sm"},e.description))})))))};var ht=r(4180),dt=r(3345),vt=r(1999);const yt=function(){var e=[{icon:n.createElement(je.A,{className:"h-8 w-8 text-primary-600"}),title:"Квалифицированные специалисты",description:"Врачи с многолетним опытом работы и регулярным повышением квалификации"},{icon:n.createElement(ht.A,{className:"h-8 w-8 text-primary-600"}),title:"Современное оборудование",description:"Диагностика и лечение на новейшем медицинском оборудовании ведущих производителей"},{icon:n.createElement(dt.A,{className:"h-8 w-8 text-primary-600"}),title:"Индивидуальный подход",description:"Разработка индивидуальных программ лечения и профилактики для каждого пациента"},{icon:n.createElement(vt.A,{className:"h-8 w-8 text-primary-600"}),title:"Доступность",description:"Доступные цены и удобное расположение клиники в центре города"}];return n.createElement("section",{className:"py-16 bg-white"},n.createElement("div",{className:"container"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},n.createElement("div",null,n.createElement("h2",{className:"text-3xl font-bold mb-4"},"О нашей клинике"),n.createElement("p",{className:"text-neutral-700 mb-6"},"МедЦентр - современная многопрофильная клиника, оказывающая полный спектр медицинских услуг для взрослых и детей. Мы стремимся сделать качественную медицинскую помощь доступной для каждого."),n.createElement("p",{className:"text-neutral-700 mb-6"},"Наша миссия - улучшать качество жизни наших пациентов через заботу о здоровье, профилактику заболеваний и применение передовых медицинских технологий."),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8"},e.map((function(e,t){return n.createElement("div",{key:t,className:"flex"},n.createElement("div",{className:"flex-shrink-0 mr-3"},e.icon),n.createElement("div",null,n.createElement("h3",{className:"font-medium text-lg mb-1"},e.title),n.createElement("p",{className:"text-sm text-neutral-600"},e.description)))})))),n.createElement("div",{className:"relative"},n.createElement("img",{src:"https://medvestnik.ru/apps/mv/assets/files/content/news/978/97886/front.jpg",alt:"Врачи нашей клиники",className:"rounded-lg shadow-lg z-10 relative"}),n.createElement("div",{className:"absolute w-full h-full top-4 left-4 rounded-lg bg-primary-100 -z-10"})))))};const gt=function(){return n.createElement("section",{className:"py-16 bg-neutral-50"},n.createElement("div",{className:"container"},n.createElement("div",{className:"text-center mb-12"},n.createElement("h2",{className:"text-3xl font-bold mb-4"},"Как нас найти"),n.createElement("p",{className:"text-neutral-600 max-w-2xl mx-auto"},"Мы находимся в центре города, удобно добраться общественным транспортом или на автомобиле.")),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},n.createElement("div",{className:"lg:col-span-2"},n.createElement("div",{className:"rounded-lg overflow-hidden h-96 w-full"},n.createElement("iframe",{title:"Карта Яндекс",src:"https://yandex.ru/map-widget/v1/?um=constructor%3A0b922f3870f4d059e2044575a0d3b37b53ad6bca6a83fc8e3a2b56b9ab0b8d2c&source=constructor",width:"100%",height:"100%",frameBorder:"0"}))),n.createElement("div",null,n.createElement("div",{className:"card p-6"},n.createElement("h3",{className:"text-xl font-bold mb-4"},"Контактная информация"),n.createElement("ul",{className:"space-y-4"},n.createElement("li",{className:"flex items-start"},n.createElement(Ee.A,{className:"h-5 w-5 mr-3 mt-0.5 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"font-medium"},"Адрес"),n.createElement("p",{className:"text-neutral-600"},"г. Москва, ул. Медицинская, д. 123"))),n.createElement("li",{className:"flex items-start"},n.createElement(we.A,{className:"h-5 w-5 mr-3 mt-0.5 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"font-medium"},"Телефон"),n.createElement("a",{href:"tel:+74951234567",className:"text-primary-600 hover:underline"},"+7 (495) 123-45-67"))),n.createElement("li",{className:"flex items-start"},n.createElement(xe.A,{className:"h-5 w-5 mr-3 mt-0.5 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"font-medium"},"Email"),n.createElement("a",{href:"mailto:info@medcenter.ru",className:"text-primary-600 hover:underline"},"info@medcenter.ru"))),n.createElement("li",{className:"flex items-start"},n.createElement(Ne.A,{className:"h-5 w-5 mr-3 mt-0.5 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"font-medium"},"Часы работы"),n.createElement("p",{className:"text-neutral-600"},"Пн-Пт: 8:00 - 20:00"),n.createElement("p",{className:"text-neutral-600"},"Сб: 9:00 - 18:00"),n.createElement("p",{className:"text-neutral-600"},"Вс: Выходной")))))))))};const bt=function(){return n.useEffect((function(){document.title="МедЦентр - Современная медицинская клиника"}),[]),n.createElement("div",null,n.createElement(De,null),n.createElement(pt,null),n.createElement(yt,null),n.createElement(gt,null))};var Et=r(8445);const wt=function(){var e=v(),t=y(ot),r=y(ct);(0,n.useEffect)((function(){e(Qe())}),[e]);var a=function(t){e(rt({category:t}))},o=function(t,r){e(rt({priceRange:{min:t,max:r}}))},i=function(e){var t="min-price"===e.target.id;(t&&0===r.priceRange.min||!t&&5e4===r.priceRange.max)&&(e.target.value="")},c=""!==r.searchTerm||null!==r.category||0!==r.priceRange.min||5e4!==r.priceRange.max;return n.createElement("div",{className:"card p-4 mb-6"},n.createElement("div",{className:"mb-4"},n.createElement("h3",{className:"text-lg font-bold mb-2"},"Поиск услуг"),n.createElement("div",{className:"relative"},n.createElement("input",{type:"text",placeholder:"Введите название услуги...",className:"input pl-10",value:r.searchTerm,onChange:function(t){e(rt({searchTerm:t.target.value}))}}),n.createElement(Et.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}))),n.createElement("div",{className:"mb-4"},n.createElement("h3",{className:"text-lg font-bold mb-2"},"Категории"),n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("button",{className:"px-3 py-1 rounded-full text-sm ".concat(null===r.category?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-700 hover:bg-neutral-300"),onClick:function(){return a(null)}},"Все"),t.map((function(e){return n.createElement("button",{key:e.id,className:"px-3 py-1 rounded-full text-sm ".concat(r.category===e.id?"bg-primary-600 text-white":"bg-neutral-200 text-neutral-700 hover:bg-neutral-300"),onClick:function(){return a(e.id)}},e.name)})))),n.createElement("div",{className:"mb-4"},n.createElement("h3",{className:"text-lg font-bold mb-2"},"Стоимость"),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"min-price",className:"block text-sm text-neutral-600 mb-1"},"От"),n.createElement("input",{id:"min-price",type:"number",min:"0",step:"100",className:"input",value:r.priceRange.min,onChange:function(e){return o(Number(e.target.value),r.priceRange.max)},onFocus:i})),n.createElement("div",null,n.createElement("label",{htmlFor:"max-price",className:"block text-sm text-neutral-600 mb-1"},"До"),n.createElement("input",{id:"max-price",type:"number",min:"0",step:"100",className:"input",value:r.priceRange.max,onChange:function(e){return o(r.priceRange.min,Number(e.target.value))},onFocus:i})))),c&&n.createElement(Fe,{variant:"outline",size:"sm",icon:n.createElement(p.A,{className:"h-4 w-4"}),onClick:function(){e(nt())},className:"w-full"},"Сбросить фильтры"))};const xt=function(e){var t=e.service,r=y($),a=(0,c.Zp)();return n.createElement(o.N_,{to:"/services/".concat(t.id),className:"block card overflow-hidden transition-shadow hover:shadow-md","data-testid":"service-card"},t.image&&n.createElement("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover"}),n.createElement("div",{className:"p-4"},n.createElement("h3",{className:"text-xl font-bold mb-2"},t.name),n.createElement("p",{className:"text-neutral-600 text-sm mb-4 line-clamp-2"},t.description),n.createElement("div",{className:"flex items-center text-sm text-neutral-500 mb-4"},n.createElement(Ne.A,{className:"h-4 w-4 mr-1"}),n.createElement("span",null,"Длительность: ",t.duration," мин.")),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-lg font-bold text-primary-700"},t.price.toLocaleString("ru-RU")," ₽"),n.createElement(Fe,{onClick:function(e){e.preventDefault(),e.stopPropagation(),r?a("/appointment/".concat(t.id)):a("/login",{state:{from:"/appointment/".concat(t.id)}})},size:"sm"},"Записаться"))))};const Nt=function(){var e=v(),t=y(at),r=y(ct),a=y(lt),o=y(st);return(0,n.useEffect)((function(){e(Xe(r))}),[e,r]),a&&0===t.length?n.createElement("div",{className:"flex justify-center py-16"},n.createElement(mt,{size:"lg"})):o?n.createElement(_e,{type:"error",message:o}):0===t.length?n.createElement("div",{className:"text-center py-8"},n.createElement("p",{className:"text-neutral-600"},"По вашему запросу не найдено ни одной услуги. Попробуйте изменить параметры поиска.")):n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((function(e){return n.createElement(xt,{key:e.id,service:e})})))};function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Lt=function(){var e=v(),t=Ot((0,o.ok)(),1)[0];return(0,n.useEffect)((function(){document.title="Услуги - МедЦентр"}),[]),(0,n.useEffect)((function(){var r=t.get("category");r&&e(rt({category:r}))}),[t,e]),n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"mb-8"},n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Медицинские услуги"),n.createElement("p",{className:"text-neutral-600"},"Мы предлагаем широкий спектр медицинских услуг для взрослых и детей. Выберите интересующую вас услугу и запишитесь на прием.")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},n.createElement("div",{className:"md:col-span-1"},n.createElement(wt,null)),n.createElement("div",{className:"md:col-span-3"},n.createElement(Nt,null))))};var St=r(232);const kt=function(){var e=(0,c.g)().id,t=v(),r=y(it),a=y(lt),i=y(st),l=y($);return(0,n.useEffect)((function(){e&&t($e(e))}),[t,e]),(0,n.useEffect)((function(){document.title=r?"".concat(r.name," - МедЦентр"):"Услуга - МедЦентр"}),[r]),a?n.createElement("div",{className:"container py-16 flex justify-center"},n.createElement(mt,{size:"lg"})):i||!r?n.createElement("div",{className:"container py-8"},n.createElement(_e,{type:"error",message:i||"Услуга не найдена"}),n.createElement("div",{className:"mt-4"},n.createElement(Fe,{as:o.N_,to:"/services",variant:"outline",icon:n.createElement(St.A,{className:"h-4 w-4"})},"Вернуться к списку услуг"))):n.createElement("div",{className:"container py-8"},n.createElement(Fe,{as:o.N_,to:"/services",variant:"outline",className:"mb-6",icon:n.createElement(St.A,{className:"h-4 w-4"})},"Вернуться к списку услуг"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},n.createElement("div",{className:"md:col-span-2"},n.createElement("h1",{className:"text-3xl font-bold mb-4"},r.name),r.image&&n.createElement("img",{src:r.image,alt:r.name,className:"w-full h-auto rounded-lg mb-6"}),n.createElement("div",{className:"card p-6 mb-6","data-testid":"service-description"},n.createElement("h2",{className:"text-xl font-bold mb-4"},"Описание услуги"),n.createElement("p",{className:"text-neutral-700 whitespace-pre-line"},r.description)),n.createElement("div",{className:"card p-6"},n.createElement("h2",{className:"text-xl font-bold mb-4"},"Подготовка к процедуре"),n.createElement("p",{className:"text-neutral-700"},"Информация о подготовке к данной процедуре предоставляется пациенту после записи на прием или по телефону. При наличии вопросов о подготовке, пожалуйста, свяжитесь с нашим медицинским центром."))),n.createElement("div",null,n.createElement("div",{className:"card p-6 mb-6 sticky top-4","data-testid":"service-details"},n.createElement("h2",{className:"text-xl font-bold mb-4"},"Информация"),n.createElement("div",{className:"space-y-4 mb-6"},n.createElement("div",{className:"flex items-center"},n.createElement(Ne.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Длительность"),n.createElement("p",{className:"text-neutral-700"},r.duration," минут"))),n.createElement("div",{className:"flex items-center"},n.createElement(m.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Категория"),n.createElement("p",{className:"text-neutral-700"},r.category))),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium mb-1"},"Стоимость"),n.createElement("p",{className:"text-2xl font-bold text-primary-600","data-testid":"service-price"},r.price.toLocaleString("ru-RU")," ₽"))),l?n.createElement(Fe,{as:o.N_,to:"/appointment/".concat(r.id),className:"w-full",size:"lg"},"Записаться"):n.createElement("div",{className:"space-y-2"},n.createElement(Fe,{as:o.N_,to:"/login",variant:"outline",className:"w-full",size:"lg"},"Войти для записи"),n.createElement("p",{className:"text-sm text-neutral-500 text-center"},"Для записи на прием необходимо авторизоваться"))))))};var _t=r(9951),Pt=r(5580),At=r(3999),Tt=r(4929),It=r(2880);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Gt(){Gt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ct(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ct(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ft(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Dt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ft(o,n,a,i,c,"next",e)}function c(e){Ft(o,n,a,i,c,"throw",e)}i(void 0)}))}}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ct(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qt,Ut,Rt,Zt,Wt=500,Vt="appointments",Jt=JSON.parse(localStorage.getItem(Vt)||"[]"),Kt=function(){var e=localStorage.getItem("user_data");if(!e)throw new Error("Пользователь не авторизован");return JSON.parse(e).id},Bt=function(){localStorage.setItem(Vt,JSON.stringify(Jt))},Ht=function(e){for(var t=[],r=new Date,n=function(){var n=(0,At.f)(r,a);if([0,6].includes(n.getDay()))return 1;for(var o=(0,_t.GP)(n,"yyyy-MM-dd"),i=9;i<18;i++)for(var c=function(){var r=s[l],n="".concat(i.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));Jt.some((function(t){return t.date===o&&t.time===n&&t.serviceId===e}))||t.push({date:o,time:n})},l=0,s=[0,30];l<s.length;l++)c()},a=1;a<=14;a++)n();return t},Xt=function(){var e=new Date;Jt=Jt.map((function(t){var r,n=(0,Tt.H)("".concat(t.date,"T").concat(t.time));return"scheduled"===t.status&&(0,It.Y)(n,e)?Mt(Mt({},t),{},{status:"completed",conclusion:(r=t.serviceId,{1:"Проведен первичный осмотр. Общее состояние удовлетворительное. Назначено дополнительное обследование.",2:"Проведен повторный осмотр. Отмечается положительная динамика. Рекомендовано продолжить лечение.",3:"Выполнена профессиональная чистка зубов. Состояние полости рта удовлетворительное.",4:"Проведено лечение кариеса. Установлена пломба из светоотверждаемого материала.",5:"Проведена проверка зрения. Острота зрения: OD = 1.0, OS = 1.0. Внутриглазное давление в норме.",6:"Выполнен подбор очков. Назначена оптическая коррекция.",7:"Проведена консультация невролога. Неврологический статус без особенностей.",8:"Выполнен общий анализ крови. Все показатели в пределах референсных значений.",9:"Проведен биохимический анализ крови. Отклонений от нормы не выявлено.",10:"Выполнена ЭКГ. Ритм синусовый, нормальный. Патологических изменений не выявлено."}[r]||"Приём завершен. Рекомендации выданы пациенту на руки.")}):t})),Bt()},Qt={getUserAppointments:(Zt=Dt(Gt().mark((function e(){var t;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,Wt)}));case 2:return t=Kt(),Xt(),e.abrupt("return",Jt.filter((function(e){return e.userId===t&&"cancelled"!==e.status})));case 5:case"end":return e.stop()}}),e)}))),function(){return Zt.apply(this,arguments)}),createAppointment:(Rt=Dt(Gt().mark((function e(t){var n,a,o,i,c;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,Wt)}));case 2:return n=Kt(),e.next=5,Promise.resolve().then(r.bind(r,1985));case 5:return a=e.sent,o=a.servicesApi,e.next=9,o.getServiceById(t.serviceId);case 9:return i=e.sent,c={id:String(Date.now()),userId:n,serviceId:t.serviceId,serviceName:i.name,date:t.date,time:t.time,specialistId:t.specialistId,specialistName:t.specialistId?"Иванов Иван Иванович":void 0,status:"scheduled",createdAt:(new Date).toISOString(),price:i.price},Jt.push(c),Bt(),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),function(e){return Rt.apply(this,arguments)}),cancelAppointment:(Ut=Dt(Gt().mark((function e(t){var r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,Wt)}));case 2:return r=Kt(),Jt=Jt.filter((function(e){return!(e.id===t&&e.userId===r)})),Bt(),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),function(e){return Ut.apply(this,arguments)}),getAvailableSlots:(qt=Dt(Gt().mark((function e(t){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,Wt)}));case 2:return e.abrupt("return",Ht(t));case 3:case"end":return e.stop()}}),e)}))),function(e){return qt.apply(this,arguments)})};function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function er(){er=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==$t(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError($t(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function tr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function rr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tr(o,n,a,i,c,"next",e)}function c(e){tr(o,n,a,i,c,"throw",e)}i(void 0)}))}}var nr=(0,g.zD)("appointments/fetchUserAppointments",function(){var e=rr(er().mark((function e(t,r){var n,a;return er().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Qt.getUserAppointments();case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при загрузке записей"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),ar=(0,g.zD)("appointments/createAppointment",function(){var e=rr(er().mark((function e(t,r){var n,a;return er().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Qt.createAppointment(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при создании записи"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),or=(0,g.zD)("appointments/cancelAppointment",function(){var e=rr(er().mark((function e(t,r){var n,a;return er().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Qt.cancelAppointment(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при отмене записи"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),ir=(0,g.zD)("appointments/fetchAvailableSlots",function(){var e=rr(er().mark((function e(t,r){var n,a;return er().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,Qt.getAvailableSlots(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n("Ошибка при загрузке доступных слотов"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()),cr=(0,g.Z0)({name:"appointments",initialState:{appointments:[],availableSlots:[],loading:!1,error:null},reducers:{clearAppointmentsError:function(e){e.error=null}},extraReducers:function(e){e.addCase(nr.pending,(function(e){e.loading=!0,e.error=null})).addCase(nr.fulfilled,(function(e,t){e.loading=!1,e.appointments=t.payload})).addCase(nr.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ar.pending,(function(e){e.loading=!0,e.error=null})).addCase(ar.fulfilled,(function(e,t){e.loading=!1,e.appointments.push(t.payload)})).addCase(ar.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(or.pending,(function(e){e.loading=!0,e.error=null})).addCase(or.fulfilled,(function(e,t){e.loading=!1,e.appointments=e.appointments.filter((function(e){return e.id!==t.payload}))})).addCase(or.rejected,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ir.pending,(function(e){e.loading=!0,e.error=null})).addCase(ir.fulfilled,(function(e,t){e.loading=!1,e.availableSlots=t.payload})).addCase(ir.rejected,(function(e,t){e.loading=!1,e.error=t.payload}))}}),lr=(cr.actions.clearAppointmentsError,function(e){return e.appointments.appointments}),sr=function(e){return e.appointments.availableSlots},ur=function(e){return e.appointments.loading},mr=function(e){return e.appointments.error};const fr=cr.reducer;function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function hr(){hr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==pr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(pr(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function dr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const gr=function(e){var t=e.serviceId,r=vr((0,n.useState)(null),2),a=r[0],o=r[1],i=vr((0,n.useState)(null),2),l=i[0],s=i[1],u=vr((0,n.useState)(""),2),f=u[0],p=u[1],h=v(),d=(0,c.Zp)(),g=y(sr),b=y(it),E=y(lt),w=y(ur),x=y(mr);(0,n.useEffect)((function(){h($e(t)),h(ir(t))}),[h,t]);var N={};g.forEach((function(e){N[e.date]||(N[e.date]=[]),N[e.date].push(e.time)}));var O=function(){var e,r=(e=hr().mark((function e(r){return hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a&&l){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,h(ar({serviceId:t,date:a,time:l,notes:f.trim()||void 0})).unwrap();case 6:h(me({type:"success",message:"Вы успешно записались на прием"})),d("/appointments"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){dr(o,n,a,i,c,"next",e)}function c(e){dr(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();if(E||!b&&!x)return n.createElement("div",{className:"flex justify-center py-8"},n.createElement(mt,{size:"lg"}));if(!b)return n.createElement(_e,{type:"error",message:"Услуга не найдена"});return n.createElement("form",{onSubmit:O,className:"space-y-6"},x&&n.createElement(_e,{type:"error",message:x}),n.createElement("div",{className:"card p-6"},n.createElement("h3",{className:"text-xl font-bold mb-4"},"Информация об услуге"),n.createElement("div",{className:"space-y-2"},n.createElement("p",null,n.createElement("span",{className:"font-medium"},"Услуга:")," ",b.name),n.createElement("p",null,n.createElement("span",{className:"font-medium"},"Длительность:")," ",b.duration," мин."),n.createElement("p",null,n.createElement("span",{className:"font-medium"},"Стоимость:")," ",b.price.toLocaleString("ru-RU")," ₽"))),n.createElement("div",{className:"card p-6"},n.createElement("h3",{className:"text-xl font-bold mb-4 flex items-center"},n.createElement(m.A,{className:"mr-2 h-5 w-5 text-primary-600"}),"Выберите дату"),0===Object.keys(N).length?n.createElement("p",{className:"text-neutral-600"},"На ближайшее время нет доступных слотов для записи"):n.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2"},Object.keys(N).map((function(e){return n.createElement("button",{key:e,type:"button",className:"p-2 border rounded-md text-center ".concat(a===e?"bg-primary-600 text-white border-primary-600":"border-neutral-300 hover:border-primary-500"),onClick:function(){return function(e){o(e),s(null)}(e)}},n.createElement("span",{className:"text-sm block"},function(e){var t=new Date(e);return(0,_t.GP)(t,"d MMMM (EEEE)",{locale:Pt.ru})}(e)))})))),a&&n.createElement("div",{className:"card p-6"},n.createElement("h3",{className:"text-xl font-bold mb-4 flex items-center"},n.createElement(Ne.A,{className:"mr-2 h-5 w-5 text-primary-600"}),"Выберите время"),n.createElement("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2"},N[a].map((function(e){return n.createElement("button",{key:e,type:"button",className:"p-2 border rounded-md text-center ".concat(l===e?"bg-primary-600 text-white border-primary-600":"border-neutral-300 hover:border-primary-500"),onClick:function(){return function(e){s(e)}(e)}},e)})))),n.createElement("div",{className:"card p-6"},n.createElement("h3",{className:"text-xl font-bold mb-4"},"Дополнительная информация"),n.createElement("div",null,n.createElement("label",{htmlFor:"notes",className:"block text-sm font-medium text-neutral-700 mb-1"},"Комментарий к записи (необязательно)"),n.createElement("textarea",{id:"notes",className:"input h-24 resize-none",placeholder:"Укажите дополнительную информацию для врача или администратора...",value:f,onChange:function(e){return p(e.target.value)}}))),n.createElement(Fe,{type:"submit",size:"lg",className:"w-full",loading:w,disabled:!a||!l},"Записаться на прием"))};const br=function(){var e=(0,c.g)().serviceId,t=v(),r=y(it);return(0,n.useEffect)((function(){e&&t($e(e))}),[t,e]),(0,n.useEffect)((function(){document.title="Запись на прием - МедЦентр"}),[]),e?n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"mb-8"},n.createElement(Fe,{as:o.N_,to:"/services",variant:"outline",className:"mb-4",icon:n.createElement(St.A,{className:"h-4 w-4"})},"Вернуться к списку услуг"),n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Запись на прием"),n.createElement("p",{className:"text-neutral-600"},"Выберите удобные дату и время для записи на услугу"," ",r&&n.createElement("strong",null,'"',r.name,'"'))),n.createElement(gr,{serviceId:e})):n.createElement("div",{className:"container py-8"},n.createElement(_e,{type:"error",message:"Не указан идентификатор услуги"}),n.createElement("div",{className:"mt-4"},n.createElement(Fe,{as:o.N_,to:"/services",variant:"outline",icon:n.createElement(St.A,{className:"h-4 w-4"})},"Вернуться к списку услуг")))};var Er=["className","error"];function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wr.apply(null,arguments)}var xr=(0,n.forwardRef)((function(e,t){var r=e.className,a=void 0===r?"":r,o=e.error,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Er),c=o?"border border-error-500 focus:ring-error-500":"border border-neutral-300 bg-white focus:ring-primary-500";return n.createElement("div",{className:"w-full"},n.createElement("input",wr({ref:t,className:"".concat("h-10 w-full rounded-md px-3 py-2 text-sm placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50"," ").concat(c," ").concat(a)},i)),o&&n.createElement("p",{className:"mt-1 text-sm text-error-500"},o))}));xr.displayName="Input";const Nr=xr;function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function jr(){jr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Or(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Or(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Lr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){_r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Or(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Tr=function(){var e=v(),t=y(Q),r=y(ee),a=y(te),o=Pr((0,n.useState)({firstName:(null==t?void 0:t.firstName)||"",lastName:(null==t?void 0:t.lastName)||"",phone:(null==t?void 0:t.phone)||"",birthDate:(null==t?void 0:t.birthDate)||"",gender:(null==t?void 0:t.gender)||"",address:(null==t?void 0:t.address)||""}),2),i=o[0],c=o[1],l=function(e){var t=e.target,r=t.name,n=t.value;c(kr(kr({},i),{},_r({},r,n)))},s=function(){var t,r=(t=jr().mark((function t(r){return jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,e(H(i)).unwrap();case 4:e(me({type:"success",message:"Профиль успешно обновлен"})),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Lr(o,n,a,i,c,"next",e)}function c(e){Lr(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return t?n.createElement("form",{onSubmit:s,className:"space-y-6"},a&&n.createElement(_e,{type:"error",message:a}),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"firstName",className:"block text-sm font-medium text-neutral-700 mb-1"},"Имя"),n.createElement(Nr,{id:"firstName",name:"firstName",value:i.firstName,onChange:l,required:!0})),n.createElement("div",null,n.createElement("label",{htmlFor:"lastName",className:"block text-sm font-medium text-neutral-700 mb-1"},"Фамилия"),n.createElement(Nr,{id:"lastName",name:"lastName",value:i.lastName,onChange:l,required:!0}))),n.createElement("div",null,n.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 mb-1"},"Телефон"),n.createElement(Nr,{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:l,placeholder:"+7 (999) 123-45-67",required:!0})),n.createElement("div",null,n.createElement("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-neutral-700 mb-1"},"Дата рождения"),n.createElement(Nr,{id:"birthDate",name:"birthDate",type:"date",value:i.birthDate,onChange:l})),n.createElement("div",null,n.createElement("label",{htmlFor:"gender",className:"block text-sm font-medium text-neutral-700 mb-1"},"Пол"),n.createElement("select",{id:"gender",name:"gender",value:i.gender,onChange:l,className:"input"},n.createElement("option",{value:""},"Не указан"),n.createElement("option",{value:"male"},"Мужской"),n.createElement("option",{value:"female"},"Женский"))),n.createElement("div",null,n.createElement("label",{htmlFor:"address",className:"block text-sm font-medium text-neutral-700 mb-1"},"Адрес"),n.createElement(Nr,{id:"address",name:"address",value:i.address,onChange:l,placeholder:"Город, улица, дом, квартира"})),n.createElement(Fe,{type:"submit",loading:r},"Сохранить изменения")):n.createElement(_e,{type:"error",message:"Пользователь не найден"})};const Ir=function(){var e=y(Q);return(0,n.useEffect)((function(){document.title="Личный кабинет - МедЦентр"}),[]),n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"mb-8"},n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Личный кабинет"),n.createElement("p",{className:"text-neutral-600"},"Управляйте своим профилем и просматривайте историю посещений")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},n.createElement("div",{className:"md:col-span-2"},n.createElement("div",{className:"card p-6"},n.createElement("h2",{className:"text-xl font-bold mb-4"},"Персональные данные"),n.createElement(Tr,null))),n.createElement("div",null,n.createElement("div",{className:"card p-6 sticky top-4"},n.createElement("h2",{className:"text-xl font-bold mb-4"},"Информация"),e&&n.createElement("div",{className:"space-y-4"},n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium mb-1"},"Email"),n.createElement("p",{className:"text-neutral-700"},e.email)),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium mb-1"},"Телефон"),n.createElement("p",{className:"text-neutral-700"},e.phone)),e.birthDate&&n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium mb-1"},"Дата рождения"),n.createElement("p",{className:"text-neutral-700"},e.birthDate)),e.gender&&n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium mb-1"},"Пол"),n.createElement("p",{className:"text-neutral-700"},"male"===e.gender?"Мужской":"Женский")))))))};var Cr=r(9608),Gr=r(3197),Fr=r(7677),Dr=r(827);const zr=function(e){var t=e.appointment,r=e.isOpen,a=e.onClose;if((0,n.useEffect)((function(){return document.body.style.overflow=r?"hidden":"",function(){document.body.style.overflow=""}}),[r]),!r)return null;return n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:function(e){e.target===e.currentTarget&&a()}},n.createElement("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("h2",{className:"text-2xl font-bold"},"Детали приёма"),n.createElement("button",{onClick:a,className:"text-neutral-500 hover:text-neutral-700","aria-label":"Закрыть"},n.createElement(p.A,{className:"h-6 w-6"}))),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold mb-2"},t.serviceName),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",{className:"flex items-start"},n.createElement(m.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Дата"),n.createElement("p",{className:"text-neutral-700"},function(e){try{var t=(0,Tt.H)(e);return(0,_t.GP)(t,"d MMMM yyyy (EEEE)",{locale:Pt.ru})}catch(t){return e}}(t.date)))),n.createElement("div",{className:"flex items-start"},n.createElement(Ne.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Время"),n.createElement("p",{className:"text-neutral-700"},t.time))),t.specialistName&&n.createElement("div",{className:"flex items-start"},n.createElement(u.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Врач"),n.createElement("p",{className:"text-neutral-700"},t.specialistName))),n.createElement("div",{className:"flex items-start"},n.createElement(Gr.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Стоимость"),n.createElement("p",{className:"text-neutral-700"},t.price.toLocaleString("ru-RU")," ₽"))))),"completed"===t.status&&t.conclusion&&n.createElement("div",{className:"border-t pt-6"},n.createElement("div",{className:"flex items-start mb-4"},n.createElement(Dr.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("h3",{className:"text-lg font-semibold"},"Заключение врача")),n.createElement("div",{className:"bg-neutral-50 rounded-lg p-4"},n.createElement("p",{className:"whitespace-pre-line text-neutral-700"},t.conclusion)))),n.createElement("div",{className:"mt-8 flex justify-end"},n.createElement(Fe,{onClick:a,variant:"outline"},"Закрыть")))))};function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function Yr(){Yr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Mr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Mr(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function qr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Zr=function(e){var t=e.appointment,r=v(),a=Ur((0,n.useState)(!1),2),o=a[0],i=a[1],c=function(){var e,n=(e=Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Вы уверены, что хотите отменить запись?")){e.next=10;break}return e.prev=1,e.next=4,r(or(t.id)).unwrap();case 4:r(me({type:"success",message:"Запись успешно отменена"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(me({type:"error",message:"Не удалось отменить запись"}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qr(o,n,a,i,c,"next",e)}function c(e){qr(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement("div",{className:"card overflow-hidden ".concat("completed"===t.status?"cursor-pointer hover:shadow-md transition-shadow":""),onClick:function(){"completed"===t.status&&i(!0)}},n.createElement("div",{className:"p-4 border-b bg-neutral-50"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("h3",{className:"text-lg font-bold"},t.serviceName),n.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(function(e){switch(e){case"scheduled":return"bg-primary-100 text-primary-800";case"completed":return"bg-success-100 text-success-800";case"cancelled":return"bg-error-100 text-error-800";default:return"bg-neutral-100 text-neutral-800"}}(t.status))},function(e){switch(e){case"scheduled":return"Запланирован";case"completed":return"Завершен";case"cancelled":return"Отменен";default:return e}}(t.status)))),n.createElement("div",{className:"p-4"},n.createElement("div",{className:"space-y-3 mb-4"},n.createElement("div",{className:"flex items-start"},n.createElement(m.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Дата"),n.createElement("p",{className:"text-neutral-700"},function(e){try{var t=(0,Tt.H)(e);return(0,_t.GP)(t,"d MMMM yyyy (EEEE)",{locale:Pt.ru})}catch(t){return e}}(t.date)))),n.createElement("div",{className:"flex items-start"},n.createElement(Ne.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Время"),n.createElement("p",{className:"text-neutral-700"},t.time))),t.specialistName&&n.createElement("div",{className:"flex items-start"},n.createElement(m.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Врач"),n.createElement("p",{className:"text-neutral-700"},t.specialistName))),n.createElement("div",{className:"flex items-start"},n.createElement(Gr.A,{className:"h-5 w-5 mr-2 text-primary-600"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium"},"Стоимость"),n.createElement("p",{className:"text-neutral-700"},t.price.toLocaleString("ru-RU")," ₽")))),n.createElement("div",{className:"flex items-center justify-between"},"scheduled"===t.status&&n.createElement(Fe,{variant:"outline",size:"sm",className:"text-error-600 border-error-300 hover:bg-error-50",icon:n.createElement(p.A,{className:"h-4 w-4"}),onClick:function(e){e.stopPropagation(),c()}},"Отменить запись"),"completed"===t.status&&n.createElement(Fe,{variant:"outline",size:"sm",className:"ml-auto",icon:n.createElement(Fr.A,{className:"h-4 w-4"})},"Подробнее")))),n.createElement(zr,{appointment:t,isOpen:o,onClose:function(){return i(!1)}}))};function Wr(e){return function(e){if(Array.isArray(e))return Vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Jr=function(){var e=v(),t=y(lr),r=y(ur),a=y(mr);(0,n.useEffect)((function(){e(nr())}),[e]),(0,n.useEffect)((function(){document.title="Мои записи - МедЦентр"}),[]);var i=new Date,c=function(e){return Wr(e).sort((function(e,t){var r=(0,Tt.H)("".concat(e.date,"T").concat(e.time));return(0,Tt.H)("".concat(t.date,"T").concat(t.time)).getTime()-r.getTime()}))},l=c(t.filter((function(e){var t=(0,Tt.H)("".concat(e.date,"T").concat(e.time));return!(0,It.Y)(t,i)&&"scheduled"===e.status}))),s=c(t.filter((function(e){var t=(0,Tt.H)("".concat(e.date,"T").concat(e.time));return(0,It.Y)(t,i)&&"completed"===e.status})));return r&&0===t.length?n.createElement("div",{className:"container py-16 flex justify-center"},n.createElement(mt,{size:"lg"})):n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"mb-8"},n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Мои записи"),n.createElement("p",{className:"text-neutral-600"},"Управляйте своими записями на прием, просматривайте историю посещений")),a&&n.createElement(_e,{type:"error",message:a}),n.createElement("div",{className:"mb-8"},n.createElement("h2",{className:"text-xl font-bold mb-4 flex items-center"},n.createElement(m.A,{className:"mr-2 h-5 w-5 text-primary-600"}),"Предстоящие записи"),0===l.length?n.createElement("div",{className:"card p-6 text-center"},n.createElement("p",{className:"text-neutral-600 mb-4"},"У вас нет предстоящих записей"),n.createElement(Fe,{as:o.N_,to:"/services"},"Записаться на прием")):n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},l.map((function(e){return n.createElement(Zr,{key:e.id,appointment:e})})))),n.createElement("div",null,n.createElement("h2",{className:"text-xl font-bold mb-4 flex items-center"},n.createElement(Cr.A,{className:"mr-2 h-5 w-5 text-primary-600"}),"История посещений"),0===s.length?n.createElement("div",{className:"card p-6 text-center"},n.createElement("p",{className:"text-neutral-600"},"В истории нет завершенных записей")):n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},s.map((function(e){return n.createElement(Zr,{key:e.id,appointment:e})})))))};function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Br(){Br=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Kr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Kr(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Hr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const $r=function(){var e,t=Xr((0,n.useState)(""),2),r=t[0],a=t[1],i=Xr((0,n.useState)(""),2),l=i[0],s=i[1],u=v(),m=(0,c.Zp)(),f=y(ee),p=y(te),h=(null===(e=(0,c.zy)().state)||void 0===e?void 0:e.from)||"/profile",d=function(){var e,t=(e=Br().mark((function e(t){return Br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u(V({email:r,password:l})).unwrap();case 4:u(me({type:"success",message:"Вы успешно вошли в систему"})),m(h,{replace:!0}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Hr(o,n,a,i,c,"next",e)}function c(e){Hr(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.createElement("form",{onSubmit:d,className:"space-y-4","data-testid":"login-form"},p&&n.createElement(_e,{type:"error",message:p}),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-1"},"Email"),n.createElement(Nr,{id:"email",type:"email",value:r,onChange:function(e){return a(e.target.value)},placeholder:"example@mail.ru",required:!0,"data-testid":"email-input"})),n.createElement("div",null,n.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 mb-1"},"Пароль"),n.createElement(Nr,{id:"password",type:"password",value:l,onChange:function(e){return s(e.target.value)},placeholder:"Введите пароль",required:!0,"data-testid":"password-input"})),n.createElement(Fe,{type:"submit",className:"w-full",loading:f,"data-testid":"submit-button"},"Войти"),n.createElement("p",{className:"text-center text-sm text-neutral-600 mt-4"},"Еще нет аккаунта?"," ",n.createElement(o.N_,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-medium","data-testid":"register-link"},"Зарегистрироваться")))};const en=function(){var e,t=y($),r=(0,c.zy)(),a=(0,c.Zp)(),o=(null===(e=r.state)||void 0===e?void 0:e.from)||"/profile";return(0,n.useEffect)((function(){document.title="Вход - МедЦентр"}),[]),(0,n.useEffect)((function(){t&&a(o,{replace:!0})}),[t,a,o]),n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"max-w-md mx-auto"},n.createElement("div",{className:"text-center mb-8"},n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Вход в личный кабинет"),n.createElement("p",{className:"text-neutral-600"},"Войдите в свой аккаунт для доступа к записи на прием и личному кабинету")),n.createElement("div",{className:"card p-6"},n.createElement($r,null))))};function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}var rn=["confirmPassword"];function nn(){nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new P(n||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};s(E,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==r&&n.call(x,i)&&(E=x);var N=b.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,o,i,c){var l=m(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==tn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=S(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=m(t,r,n);if("normal"===s.type){if(a=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=d,n.method="throw",n.arg=s.arg)}}}function S(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(tn(t)+" is not iterable")}return g.prototype=b,a(N,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(N),s(N,l,"Generator"),s(N,i,(function(){return this})),s(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function an(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function on(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const fn=function(){var e,t=un((0,n.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),2),r=t[0],a=t[1],i=un((0,n.useState)({}),2),l=i[0],s=i[1],u=v(),m=(0,c.Zp)(),f=y(ee),p=y(te),h=(null===(e=(0,c.zy)().state)||void 0===e?void 0:e.from)||"/profile",d=function(e){var t=e.target,n=t.name,o=t.value;a(ln(ln({},r),{},sn({},n,o))),l[n]&&s(ln(ln({},l),{},sn({},n,"")))},g=function(){var e,t=(e=nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=void 0,a={},r.email?/\S+@\S+\.\S+/.test(r.email)||(a.email="Некорректный email"):a.email="Email обязателен",r.password?r.password.length<6&&(a.password="Пароль должен содержать не менее 6 символов"):a.password="Пароль обязателен",r.password!==r.confirmPassword&&(a.confirmPassword="Пароли не совпадают"),r.firstName||(a.firstName="Имя обязательно"),r.lastName||(a.lastName="Фамилия обязательна"),r.phone?/^\+?[0-9\s-()]+$/.test(r.phone)||(a.phone="Некорректный формат телефона"):a.phone="Телефон обязателен",s(a),0===Object.keys(a).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,r.confirmPassword,n=an(r,rn),e.next=7,u(J(n)).unwrap();case 7:u(me({type:"success",message:"Вы успешно зарегистрировались"})),m(h,{replace:!0}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}var a}),e,null,[[3,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){on(o,n,a,i,c,"next",e)}function c(e){on(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return n.createElement("form",{onSubmit:g,className:"space-y-4","data-testid":"register-form"},p&&n.createElement(_e,{type:"error",message:p}),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"firstName",className:"block text-sm font-medium text-neutral-700 mb-1"},"Имя"),n.createElement(Nr,{id:"firstName",name:"firstName",placeholder:"Имя",value:r.firstName,onChange:d,error:l.firstName,required:!0,"data-testid":"firstName-input"})),n.createElement("div",null,n.createElement("label",{htmlFor:"lastName",className:"block text-sm font-medium text-neutral-700 mb-1"},"Фамилия"),n.createElement(Nr,{id:"lastName",name:"lastName",placeholder:"Фамилия",value:r.lastName,onChange:d,error:l.lastName,required:!0,"data-testid":"lastName-input"}))),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-1"},"Email"),n.createElement(Nr,{id:"email",name:"email",type:"email",placeholder:"example@mail.ru",value:r.email,onChange:d,error:l.email,required:!0,"data-testid":"email-input"})),n.createElement("div",null,n.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-neutral-700 mb-1"},"Телефон"),n.createElement(Nr,{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:d,placeholder:"+7 (999) 123-45-67",error:l.phone,required:!0,"data-testid":"phone-input"})),n.createElement("div",null,n.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 mb-1"},"Пароль"),n.createElement(Nr,{id:"password",name:"password",type:"password",placeholder:"Пароль",value:r.password,onChange:d,error:l.password,required:!0,"data-testid":"password-input"})),n.createElement("div",null,n.createElement("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 mb-1"},"Подтверждение пароля"),n.createElement(Nr,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Подтверждение пароля",value:r.confirmPassword,onChange:d,error:l.confirmPassword,required:!0,"data-testid":"confirmPassword-input"})),n.createElement(Fe,{type:"submit",className:"w-full",loading:f,"data-testid":"submit-button"},"Зарегистрироваться"),n.createElement("p",{className:"text-center text-sm text-neutral-600 mt-4"},"Уже есть аккаунт?"," ",n.createElement(o.N_,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium","data-testid":"login-link"},"Войти")))};const pn=function(){var e,t=y($),r=(0,c.zy)(),a=(0,c.Zp)(),o=(null===(e=r.state)||void 0===e?void 0:e.from)||"/profile";return(0,n.useEffect)((function(){document.title="Регистрация - МедЦентр"}),[]),(0,n.useEffect)((function(){t&&a(o,{replace:!0})}),[t,a,o]),n.createElement("div",{className:"container py-8"},n.createElement("div",{className:"max-w-md mx-auto"},n.createElement("div",{className:"text-center mb-8"},n.createElement("h1",{className:"text-3xl font-bold mb-2"},"Регистрация"),n.createElement("p",{className:"text-neutral-600"},"Создайте аккаунт для доступа к записи на прием и личному кабинету")),n.createElement("div",{className:"card p-6"},n.createElement(fn,null))))};const hn=function(){return(0,n.useEffect)((function(){document.title="Страница не найдена - МедЦентр"}),[]),n.createElement("div",{className:"container py-16"},n.createElement("div",{className:"max-w-lg mx-auto text-center"},n.createElement("h1",{className:"text-9xl font-bold text-primary-600 mb-4"},"404"),n.createElement("h2",{className:"text-3xl font-bold mb-4"},"Страница не найдена"),n.createElement("p",{className:"text-neutral-600 mb-8"},"Страница, которую вы ищете, не существует или была перемещена."),n.createElement(Fe,{as:o.N_,to:"/",size:"lg",icon:n.createElement(d.A,{className:"h-5 w-5"})},"Вернуться на главную")))};const dn=function(){var e=y($);return y(ee)?n.createElement("div",{className:"flex items-center justify-center min-h-screen"},n.createElement(mt,{size:"lg"})):e?n.createElement(c.sv,null):n.createElement(c.C5,{to:"/login",replace:!0})};const vn=function(){var e=v(),t=(0,c.zy)();return(0,n.useEffect)((function(){e(K())}),[e]),(0,n.useEffect)((function(){window.scrollTo(0,0)}),[t.pathname]),n.createElement(c.BV,null,n.createElement(c.qh,{path:"/",element:n.createElement(Ae,null)},n.createElement(c.qh,{index:!0,element:n.createElement(bt,null)}),n.createElement(c.qh,{path:"services",element:n.createElement(Lt,null)}),n.createElement(c.qh,{path:"services/:id",element:n.createElement(kt,null)}),n.createElement(c.qh,{element:n.createElement(dn,null)},n.createElement(c.qh,{path:"appointment/:serviceId",element:n.createElement(br,null)}),n.createElement(c.qh,{path:"profile",element:n.createElement(Ir,null)}),n.createElement(c.qh,{path:"appointments",element:n.createElement(Jr,null)})),n.createElement(c.qh,{path:"login",element:n.createElement(en,null)}),n.createElement(c.qh,{path:"register",element:n.createElement(pn,null)}),n.createElement(c.qh,{path:"*",element:n.createElement(hn,null)})))};var yn=(0,g.U1)({reducer:{auth:re,services:ut,appointments:fr,ui:de},middleware:function(e){return e({serializableCheck:{ignoredActions:["auth/login/fulfilled","auth/register/fulfilled"]}})}}),gn=document.getElementById("root");if(!gn)throw new Error("Root element not found");(0,a.H)(gn).render(n.createElement(n.StrictMode,null,n.createElement(i.Kq,{store:yn},n.createElement(o.Kd,null,n.createElement(vn,null)))))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.m=n,e=[],o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,n,a]=e[u],c=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,r({}),r([]),r(r)];for(var c=2&n&&e;"object"==typeof c&&!~t.indexOf(c);c=r(c))Object.getOwnPropertyNames(c).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,c,l]=r,s=0;if(i.some((t=>0!==e[t]))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(l)var u=l(o)}for(t&&t(r);s<i.length;s++)a=i[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self.webpackChunkmedClinic=self.webpackChunkmedClinic||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=o.O(void 0,[876],(()=>o(3342)));i=o.O(i)})();
//# sourceMappingURL=main.05f3bdf257eb4d76f2f3.js.map